"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.packageVersion = void 0;
exports.userAgent = userAgent;
const fs_1 = require("fs");
const path_1 = require("path");
const twoLevelsUp = (0, path_1.join)(__dirname, '..', '..', 'package.json');
const oneLevelUp = (0, path_1.join)(__dirname, '..', 'package.json');
if ((0, fs_1.existsSync)(twoLevelsUp)) {
    // This is the case in the built npm package
    const packageJson = JSON.parse((0, fs_1.readFileSync)(twoLevelsUp, 'utf8'));
    exports.packageVersion = packageJson.version;
}
else if ((0, fs_1.existsSync)(oneLevelUp)) {
    // This is the case in dev
    const packageJson = JSON.parse((0, fs_1.readFileSync)(oneLevelUp, 'utf8'));
    exports.packageVersion = packageJson.version;
}
else {
    console.warn('Failed to find package.json');
    exports.packageVersion = 'unknown';
}
function userAgent() {
    return `Weave JS Client ${exports.packageVersion}`;
}
//# sourceMappingURL=userAgent.js.map